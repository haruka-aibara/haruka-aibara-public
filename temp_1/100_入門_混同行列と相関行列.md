# 混同行列と相関行列

## 概要
混同行列（Confusion Matrix）と相関行列（Correlation Matrix）は、機械学習やデータ分析において重要な評価・分析ツールです。混同行列は分類モデルの性能評価に、相関行列は変数間の関係性の分析に使用されます。

## 詳細

### 混同行列（Confusion Matrix）
混同行列は、分類モデルの予測結果を評価するための重要なツールです。

#### 基本的な構成要素
- True Positive (TP): 正しく陽性と予測
- False Positive (FP): 誤って陽性と予測（Type I Error）
- True Negative (TN): 正しく陰性と予測
- False Negative (FN): 誤って陰性と予測（Type II Error）

#### 重要な評価指標
- 精度（Accuracy）: (TP + TN) / (TP + TN + FP + FN)
- 適合率（Precision）: TP / (TP + FP)
- 再現率（Recall）: TP / (TP + FN)
- F1スコア: 2 * (Precision * Recall) / (Precision + Recall)

### 相関行列（Correlation Matrix）
相関行列は、複数の変数間の相関関係を表す正方行列です。

#### 特徴
- 対角成分は常に1（自己相関）
- 対称行列（i,j成分とj,i成分は等しい）
- 各要素は-1から1の値を取る

#### 相関係数の解釈
- 1に近い: 強い正の相関
- 0に近い: 相関なし
- -1に近い: 強い負の相関

## 具体例

### 混同行列の例
```python
# 2クラス分類の混同行列例
[[50, 10],  # 実際の陽性クラス
 [5, 35]]   # 実際の陰性クラス
```

この例では：
- TP = 50（正しく陽性と予測）
- FP = 10（誤って陽性と予測）
- FN = 5（誤って陰性と予測）
- TN = 35（正しく陰性と予測）

### 相関行列の例
```python
# 3つの変数間の相関行列例
[[1.0, 0.7, -0.3],
 [0.7, 1.0, 0.1],
 [-0.3, 0.1, 1.0]]
```

この例では：
- 変数1と2は強い正の相関（0.7）
- 変数1と3は弱い負の相関（-0.3）
- 変数2と3はほとんど相関なし（0.1）

## まとめ
混同行列と相関行列は、機械学習モデルの評価やデータ分析において不可欠なツールです。混同行列は分類モデルの性能を詳細に評価し、相関行列は変数間の関係性を理解するのに役立ちます。これらの概念を理解することで、より効果的なモデル評価とデータ分析が可能になります。 
